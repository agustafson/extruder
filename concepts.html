<html><head><title>extruder</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Chris Jansen" /><meta name="description" content="Populate Scala case classes from any data source" /><meta name="og:image" content="/extruder/img/poster.png" /><meta name="og:title" content="extruder" /><meta name="og:site_name" content="extruder" /><meta name="og:url" content="https://janstenpickle.github.io/extruder/" /><meta name="og:type" content="website" /><meta name="og:description" content="Populate Scala case classes from any data source" /><link rel="icon" type="image/png" href="/extruder/img/favicon.png" /><meta name="twitter:title" content="extruder" /><meta name="twitter:image" content="https://janstenpickle.github.io/extruder/img/poster.png" /><meta name="twitter:description" content="Populate Scala case classes from any data source" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/extruder/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/extruder/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/extruder/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/extruder/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/extruder/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/extruder/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/extruder/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/extruder/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/extruder/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/extruder/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/extruder/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/extruder/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/extruder/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/extruder/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/extruder/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/extruder/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/extruder/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/extruder/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/extruder/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/extruder/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/extruder/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/extruder/css/style.css" /><link rel="stylesheet" href="/extruder/css/palette.css" /><link rel="stylesheet" href="/extruder/css/codemirror.css" /><link rel="stylesheet" href="/extruder/css/kazari-style.css" /><link rel="stylesheet" href="/extruder/css/monokai.css" /><link rel="stylesheet" href="/extruder/css/override.css" /><link rel="stylesheet" href="https://cdn.rawgit.com/knsv/mermaid/6.0.0/dist/mermaid.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/extruder/" class="brand"><div class="brand-wrapper"><span>extruder</span></div></a></li> <li><a href="/extruder/concepts.html" class="">Concepts</a></li> <li><a href="/extruder/usage.html" class="">Usage</a></li> <li><a href="/extruder/decode_encode.html" class="">Decoding and encoding</a></li> <li><a href="/extruder/extending.html" class="">Extending a Data Source</a></li> <li><a href="/extruder/config.html" class="">Implementing a Data Source</a></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li id="gh-eyes-item" class="hidden-xs"><a href="https://github.com/janstenpickle/extruder"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs"><a href="https://github.com/janstenpickle/extruder"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('extruder Populate Scala case classes from any data source');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('extruder Populate Scala case classes from any data source');"><i class="fa fa-facebook"></i></a></li><li><a href="#" onclick="shareSiteGoogle();"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="janstenpickle" data-github-repo="extruder"><div class="content-wrapper"><section><ul id="markdown-toc">
  <li><a href="#overview" id="markdown-toc-overview">Overview</a>    <ul>
      <li><a href="#why-use-the-io-monad-and-not-effect" id="markdown-toc-why-use-the-io-monad-and-not-effect">Why use the <code class="highlighter-rouge">IO</code> monad and not <code class="highlighter-rouge">Effect</code>?</a></li>
    </ul>
  </li>
  <li><a href="#terms" id="markdown-toc-terms">Terms</a>    <ul>
      <li><a href="#data-source" id="markdown-toc-data-source">Data Source</a></li>
      <li><a href="#decoder-and-encoder" id="markdown-toc-decoder-and-encoder">Decoder and Encoder</a></li>
    </ul>
  </li>
</ul>

<h1 id="overview">Overview</h1>

<p>Extruder provides some default methods for decoding and encoding case classes from differing data sources which returns the value wrapped in a <a href="https://github.com/typelevel/cats">cats</a> <code class="highlighter-rouge">ValidatedNel</code> instance. However this is just the default implementation, extruder allows you to specify your own target monads.</p>

<p>The design of extruder assumes that reading and writing data could be side affecting and therefore requires that whenever a value is read from data it is wrapped in the <a href="https://github.com/typelevel/cats-effect">cats effect</a> <code class="highlighter-rouge">IO</code> monad, as well as the extruder typeclass for aggregating errors; <code class="highlighter-rouge">ExtruderApplicativeError</code>.</p>

<ol>
  <li><code class="highlighter-rouge">IO</code> monad models side effects in loading data and fails on the first error.</li>
  <li><code class="highlighter-rouge">ExtruderApplicativeError</code> models errors in decoding data values and optionally aggregates those errors depending on the target monad.</li>
</ol>

<p>For more information on how to use different monads with extruder see the <a href="decode_encode.html">documentation on decoding and encoding</a></p>

<h2 id="why-use-the-io-monad-and-not-effect">Why use the <code class="highlighter-rouge">IO</code> monad and not <code class="highlighter-rouge">Effect</code>?</h2>

<p>Extruder acts like a bridge between data and a target type. The target type may be wrapped an an effect monad and a validation monad of the user’s choosing (1 and 2 above), provided the required <a href="decode_encode.html">implicits exist</a>. In certain sections of Extruder internals, both the side affect and and validation monad must be flat-mapped together. This causes a problem when both are unknown because <code class="highlighter-rouge">flatMap</code> instances for all permutations of effect and validation monads must be provided. Instead the reference implementation of <a href="https://github.com/typelevel/cats-effect">cats effect</a>, <code class="highlighter-rouge">IO</code>, is used as a concrete target for flat-mapping and side-effecting monads, such as <code class="highlighter-rouge">Future</code> or <a href="https://monix.io">Monix</a>’s <code class="highlighter-rouge">Task</code> may be converted to and from <code class="highlighter-rouge">IO</code>.</p>

<p>An example of how this may work from data source to result is shown below</p>
<div class="mermaid">
graph LR;
    S[Data Source - Future]--&gt;E[Extruder - IO];
    E[Extruder IO]--&gt;R[Result - Task];
</div>
<h1 id="terms">Terms</h1>

<p>Some of the key terms for extruder are described below:</p>

<h2 id="data-source">Data Source</h2>

<p>A data source is an implementation of a number of traits which allow decoding or encoding types from a specified type of data, e.g. a Map or System Properties.</p>

<p>Functionality for decoding and encoding may be implemented separately, this comes in handy for when the underlying data is read-only (<a href="https://github.com/janstenpickle/extruder/blob/master/system-sources/src/main/scala/extruder/system/EnvironmentSource.scala">see the environment data source</a>).</p>

<p>When implementing decoding or encoding functionality you will have to specify intermediate data types. This allows you to convert from and to the source/target data type. See <a href="data_source.html">instructions for creating your own data source for more information</a></p>

<h2 id="decoder-and-encoder">Decoder and Encoder</h2>

<p>Decoders and Encoders are type classes which are able to extract or encode a specified type from or to a data source. Each implementation of a data source will have its own specific <code class="highlighter-rouge">Encoder</code> and <code class="highlighter-rouge">Decoder</code> traits specific to the data type.</p>

</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/extruder/highlight/highlight.pack.js"></script><script>hljs.configure({
languages:['scala','java','bash']
});
hljs.initHighlighting();
             </script><script src="https://cdn.rawgit.com/knsv/mermaid/6.0.0/dist/mermaid.min.js"></script><script src="/extruder/js/main.js"></script><script src="/extruder/js/kazari.js"></script><script>
$(document).ready(function() {
	kazari.KazariPlugin().decorateCode('https://scala-evaluator-212.herokuapp.com/eval', 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.S2F6YXJp.Jl2eqMfw8IakJF93PjxTbrf-8YUJgX5OoOfy5JHE8Yw', '', 'monokai')
})
    </script></body></html>