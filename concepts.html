<html><head><title>extruder</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Chris Jansen" /><meta name="description" content="Populate Scala case classes from any data source" /><meta name="og:image" content="/extruder/img/poster.png" /><meta name="og:title" content="extruder" /><meta name="og:site_name" content="extruder" /><meta name="og:url" content="https://janstenpickle.github.io/extruder/" /><meta name="og:type" content="website" /><meta name="og:description" content="Populate Scala case classes from any data source" /><link rel="icon" type="image/png" href="/extruder/img/favicon.png" /><meta name="twitter:title" content="extruder" /><meta name="twitter:image" content="https://janstenpickle.github.io/extruder/img/poster.png" /><meta name="twitter:description" content="Populate Scala case classes from any data source" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/extruder/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="32x32" href="/extruder/img/favicon32x32.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/extruder/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/extruder/css/style.css" /><link rel="stylesheet" href="/extruder/css/palette.css" /><link rel="stylesheet" href="/extruder/css/codemirror.css" /><link rel="stylesheet" href="/extruder/css/kazari-style.css" /><link rel="stylesheet" href="/extruder/css/monokai.css" /><link rel="stylesheet" href="/extruder/css/override.css" /><link rel="stylesheet" href="https://cdn.rawgit.com/knsv/mermaid/6.0.0/dist/mermaid.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/extruder/" class="brand"><div class="brand-wrapper"><span>extruder</span></div></a></li> <li><a href="/extruder/concepts.html" class="">Concepts</a></li> <li><a href="/extruder/usage.html" class="">Usage</a></li> <li><a href="/extruder/decode_encode.html" class="">Decoding and encoding</a></li> <li><a href="/extruder/extending.html" class="">Extending a Data Source</a></li> <li><a href="/extruder/config.html" class="">Implementing a Data Source</a></li> <li><a href="/extruder/metrics.html" class="">Extruder Metrics</a></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li id="gh-eyes-item" class="hidden-xs"><a href="https://github.com/janstenpickle/extruder"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs"><a href="https://github.com/janstenpickle/extruder"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('extruder Populate Scala case classes from any data source');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('extruder Populate Scala case classes from any data source');"><i class="fa fa-facebook"></i></a></li><li><a href="#" onclick="shareSiteGoogle();"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="janstenpickle" data-github-repo="extruder"><div class="content-wrapper"><section><ul id="markdown-toc">
  <li><a href="#overview" id="markdown-toc-overview">Overview</a>    <ul>
      <li><a href="#effects" id="markdown-toc-effects">Effects</a></li>
    </ul>
  </li>
  <li><a href="#terms" id="markdown-toc-terms">Terms</a>    <ul>
      <li><a href="#data-source" id="markdown-toc-data-source">Data Source</a></li>
      <li><a href="#decoder-and-encoder" id="markdown-toc-decoder-and-encoder">Decoder and Encoder</a></li>
    </ul>
  </li>
</ul>

<h1 id="overview">Overview</h1>

<p>Extruder provides some default methods for decoding and encoding case classes from differing data sources which returns the value wrapped in a <code class="highlighter-rouge">Either</code> where left hand side of errors is  <a href="https://github.com/typelevel/cats">cats</a> <code class="highlighter-rouge">NonEmptyList</code> instance. However this is just the default implementation, extruder allows you to specify your own target monads.</p>

<h2 id="effects">Effects</h2>

<p>Extruder use <a href="https://github.com/typelevel/cats">cats</a> and <a href="https://github.com/typelevel/cats-effect">cats effect</a> to define target monads. By default, when encoding or decoding, Extruder returns an <code class="highlighter-rouge">Either[ValidatedNel[ValidationError], A]</code> where, errors are collected on the left hand side.</p>

<p>Extruder extends the <code class="highlighter-rouge">MonadError</code>, <code class="highlighter-rouge">Sync</code> and <code class="highlighter-rouge">Async</code> typeclasses from the Typelevel cats ecosystem. Each of these typeclasses handle effects in different ways, it us up to the maintainer of the <a href="data_source.html">data source</a> as to which typeclass models the side effects of their target backend. For example the provided data source for <code class="highlighter-rouge">Map[String, String]</code> uses <code class="highlighter-rouge">MonadError</code> because there are no side effects in looking up from an already initialised map. However a data source implementation for reading from a database should use the <code class="highlighter-rouge">Async</code> typeclass so that any asynchronous computation is captured and handled correctly.</p>

<p>Extruder provides types for separating validation errors from effects via the <code class="highlighter-rouge">EitherT</code> monad transformer, combined with one of the typeclasses mentioed above. For example <code class="highlighter-rouge">EitherT[IO, ValidatedNel[ValidationError], A]</code>’s underlying value is <code class="highlighter-rouge">IO[Either[ValidatedNel[ValidationError], A]]</code> where side effects of asynchronous computation are captured by the <a href="https://github.com/typelevel/cats-effect">cats effect</a> <code class="highlighter-rouge">IO</code> monad and validation errors are modelled by <code class="highlighter-rouge">Either[ValidatedNel[ValidationError], A]</code>. The same is true for any implementation of <code class="highlighter-rouge">Sync</code> or <code class="highlighter-rouge">Async</code> typeclasses such the <a href="https://monix.io">Monix</a> <code class="highlighter-rouge">Task</code>.</p>

<p>There is a hierarchy of power when it comes to these typeclasses, where <code class="highlighter-rouge">Async</code> &gt; <code class="highlighter-rouge">Sync</code> &gt; <code class="highlighter-rouge">MonadError</code>. This means that an <code class="highlighter-rouge">Async</code> typeclass implementation may be used for data sources specifying <code class="highlighter-rouge">MonadError</code> as their target monad, however the reverse isn’t true.</p>

<blockquote>
  <p>Note that the default <code class="highlighter-rouge">decode</code> method uses a <code class="highlighter-rouge">MonadError</code> instance, so if the backend you are using requires an <code class="highlighter-rouge">Async</code> or <code class="highlighter-rouge">Sync</code> target you must specify the type manually.</p>
</blockquote>

<p>See the <a href="examples.html">examples</a> documentation on how to use these typeclasses effectively and specifying a target monad.</p>

<h1 id="terms">Terms</h1>

<p>Some of the key terms for extruder are described below:</p>

<h2 id="data-source">Data Source</h2>

<p>A data source is an implementation of a number of traits which allow decoding or encoding types from a specified type of data, e.g. a Map or System Properties.</p>

<p>Functionality for decoding and encoding may be implemented separately, this comes in handy for when the underlying data is read-only (<a href="https://github.com/janstenpickle/extruder/blob/master/system-sources/src/main/scala/extruder/system/EnvironmentSource.scala">see the environment data source</a>).</p>

<p>When implementing decoding or encoding functionality you will have to specify intermediate data types. This allows you to convert from and to the source/target data type. See <a href="data_source.html">instructions for creating your own data source for more information</a></p>

<h2 id="decoder-and-encoder">Decoder and Encoder</h2>

<p>Decoders and Encoders are type classes which are able to extract or encode a specified type from or to a data source. Each implementation of a data source will have its own specific <code class="highlighter-rouge">Encoder</code> and <code class="highlighter-rouge">Decoder</code> traits specific to the data type.</p>

</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/extruder/highlight/highlight.pack.js"></script><script>hljs.configure({
languages:['scala','java','bash']
});
hljs.initHighlighting();
             </script><script src="https://cdn.rawgit.com/knsv/mermaid/6.0.0/dist/mermaid.min.js"></script><script src="/extruder/js/main.js"></script><script src="/extruder/js/kazari.js"></script><script>
$(document).ready(function() {
	kazari.KazariPlugin().decorateCode('https://scala-evaluator-212.herokuapp.com/eval', 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.S2F6YXJp.Jl2eqMfw8IakJF93PjxTbrf-8YUJgX5OoOfy5JHE8Yw', '', 'monokai')
})
    </script></body></html>